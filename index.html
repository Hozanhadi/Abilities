<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงููุฏุฑุงุช ุงูููุธู - 55 ูููุฐุฌ</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&amp;display=swap" rel="stylesheet">
  <style>
        * { font-family: 'Tajawal', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #1e3a5f 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
        .nav-item { transition: all 0.2s ease; }
        .nav-item:hover { background: rgba(255,255,255,0.1); }
        .question-card { animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .progress-bar { transition: width 0.5s ease; }
        .option-btn { transition: all 0.2s ease; }
        .option-btn:hover:not(.selected):not(.correct):not(.wrong) { background: #e8f4fd; border-color: #3b82f6; }
        .correct { background: #dcfce7 !important; border-color: #22c55e !important; color: #166534 !important; }
        .wrong { background: #fee2e2 !important; border-color: #ef4444 !important; color: #991b1b !important; }
        .selected { background: #dbeafe !important; border-color: #3b82f6 !important; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        .toast { animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
  <style>body { box-sizing: border-box; }</style>
 </head>
 <body class="h-full bg-slate-50 overflow-auto">
  <div id="app" class="min-h-full w-full">
   <!-- Toast Notification -->
   <div id="toast" class="hidden fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg toast z-50"></div><!-- Navigation -->
   <nav class="gradient-bg text-white shadow-xl sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4">
     <div class="flex items-center justify-between">
      <h1 id="site-title" class="text-2xl font-bold cursor-pointer" onclick="showSection('home')">๐ ุงููุฏุฑุงุช ุงูููุธู</h1>
      <div class="hidden md:flex gap-2">
       <button onclick="showSection('home')" class="nav-item px-4 py-2 rounded-lg">ุงูุฑุฆูุณูุฉ</button> <button onclick="showSection('explanation')" class="nav-item px-4 py-2 rounded-lg">ุงูุดุฑุญ</button> <button onclick="showSection('models')" class="nav-item px-4 py-2 rounded-lg">ุงูููุงุฐุฌ</button> <button onclick="showSection('results-view')" class="nav-item px-4 py-2 rounded-lg">ุงููุชุงุฆุฌ</button> <button onclick="showSection('tips')" class="nav-item px-4 py-2 rounded-lg">ูุตุงุฆุญ</button>
      </div><button onclick="toggleMobileMenu()" class="md:hidden text-2xl">โฐ</button>
     </div>
     <div id="mobile-menu" class="hidden md:hidden mt-4 flex flex-col gap-2">
      <button onclick="showSection('home'); toggleMobileMenu()" class="nav-item px-4 py-2 rounded-lg text-right">ุงูุฑุฆูุณูุฉ</button> <button onclick="showSection('explanation'); toggleMobileMenu()" class="nav-item px-4 py-2 rounded-lg text-right">ุงูุดุฑุญ</button> <button onclick="showSection('models'); toggleMobileMenu()" class="nav-item px-4 py-2 rounded-lg text-right">ุงูููุงุฐุฌ</button> <button onclick="showSection('results-view'); toggleMobileMenu()" class="nav-item px-4 py-2 rounded-lg text-right">ุงููุชุงุฆุฌ</button> <button onclick="showSection('tips'); toggleMobileMenu()" class="nav-item px-4 py-2 rounded-lg text-right">ูุตุงุฆุญ</button>
     </div>
    </div>
   </nav><!-- Home Section -->
   <section id="home-section" class="py-12 px-4">
    <div class="max-w-6xl mx-auto">
     <div id="student-info" class="text-center mb-12 p-6 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-2xl">
      <p class="text-lg text-slate-700"><span class="font-bold text-blue-600">ุฃููุงู ุจู: <span id="display-name" class="text-2xl">ุงูุทุงูุจ</span></span></p><button onclick="editStudentName()" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">โ๏ธ ุชุนุฏูู ุงูุงุณู</button>
     </div>
     <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-slate-800 mb-4">ูุฑุญุจุงู ุจู ูู ููุตุฉ ุงููุฏุฑุงุช ุงูููุธู</h2>
      <p class="text-xl text-slate-600 max-w-2xl mx-auto">ููุตุฉ ุดุงููุฉ ููุชุญุถูุฑ ูุงุฎุชุจุงุฑ ุงููุฏุฑุงุช ุงูุนุงูุฉ - ุงููุณู ุงูููุธู ูุน 55 ูููุฐุฌ ุชุฏุฑูุจู ูุชููุน</p>
     </div>
     <div class="grid md:grid-cols-3 gap-6 mb-12">
      <div class="bg-white rounded-2xl p-6 shadow-lg card-hover border-t-4 border-blue-500">
       <div class="text-4xl mb-4">
        ๐
       </div>
       <h3 class="text-xl font-bold text-slate-800 mb-2">ุดุฑุญ ููุตู</h3>
       <p class="text-slate-600">ุดุฑุญ ุดุงูู ูุฌููุน ุฃููุงุน ุงูุฃุณุฆูุฉ ุงูููุธูุฉ ูุน ุฃูุซูุฉ ุชูุถูุญูุฉ</p>
      </div>
      <div class="bg-white rounded-2xl p-6 shadow-lg card-hover border-t-4 border-green-500">
       <div class="text-4xl mb-4">
        ๐
       </div>
       <h3 class="text-xl font-bold text-slate-800 mb-2">55 ูููุฐุฌ</h3>
       <p class="text-slate-600">ููุงุฐุฌ ูุชููุนุฉ ุชุบุทู ุฌููุน ุฃููุงุท ุงูุฃุณุฆูุฉ ุงููุชูุฑุฑุฉ ูุงูุตุนุจุฉ</p>
      </div>
      <div class="bg-white rounded-2xl p-6 shadow-lg card-hover border-t-4 border-purple-500">
       <div class="text-4xl mb-4">
        ๐ก
       </div>
       <h3 class="text-xl font-bold text-slate-800 mb-2">ูุตุงุฆุญ ุฐูุจูุฉ</h3>
       <p class="text-slate-600">ุงุณุชุฑุงุชูุฌูุงุช ูุชูููุงุช ูุชุญููู ุฃุนูู ุงูุฏุฑุฌุงุช</p>
      </div>
     </div>
     <div class="bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white text-center">
      <h3 class="text-2xl font-bold mb-4">ุงุจุฏุฃ ุฑุญูุฉ ุงูุชุญุถูุฑ ุงูุขู!</h3>
      <p class="mb-6 text-blue-100">ุงุฎุชุฑ ูู ุจูู 55 ูููุฐุฌ ุชุฏุฑูุจู ูุงุฎุชุจุฑ ูุณุชูุงู</p><button onclick="showSection('models')" class="bg-white text-blue-600 px-8 py-3 rounded-xl font-bold hover:bg-blue-50 transition"> ุงุจุฏุฃ ุงูุชุฏุฑูุจ โ </button>
     </div>
    </div>
   </section><!-- Student Name Modal -->
   <div id="name-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50">
    <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
     <h3 class="text-2xl font-bold text-slate-800 mb-4">ุฅุฏุฎุงู ุงูุงุณู</h3><input type="text" id="name-input" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg mb-4 focus:outline-none focus:border-blue-500" autocomplete="off">
     <div class="flex gap-4"><button onclick="saveStudentName()" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition font-bold">ุญูุธ</button> <button onclick="closeNameModal()" class="flex-1 bg-slate-200 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-300 transition font-bold">ุฅูุบุงุก</button>
     </div>
    </div>
   </div><!-- Explanation Section -->
   <section id="explanation-section" class="hidden py-12 px-4">
    <div class="max-w-4xl mx-auto">
     <h2 class="text-3xl font-bold text-slate-800 mb-8 text-center">๐ ุดุฑุญ ุงููุณู ุงูููุธู</h2>
     <div class="space-y-6">
      <!-- ุงุณุชูุนุงุจ ุงูููุฑูุก -->
      <div class="bg-white rounded-2xl p-6 shadow-lg">
       <div class="flex items-center gap-3 mb-4">
        <span class="bg-blue-100 text-blue-600 px-4 py-2 rounded-xl font-bold">1</span>
        <h3 class="text-xl font-bold text-slate-800">ุงุณุชูุนุงุจ ุงูููุฑูุก</h3>
       </div>
       <p class="text-slate-600 mb-4">ููุนุฑุถ ุนููู ูุต ูุตูุฑ ุซู ุชูุทุฑุญ ุฃุณุฆูุฉ ุญูู:</p>
       <ul class="list-disc list-inside text-slate-600 space-y-2 mr-4">
        <li>ุงูููุฑุฉ ุงูุฑุฆูุณูุฉ ูููุต</li>
        <li>ูุนุงูู ุงููููุงุช ูู ุงูุณูุงู</li>
        <li>ุงุณุชูุชุงุฌุงุช ูู ุงููุต</li>
        <li>ูููู ุงููุงุชุจ ูุฑุฃูู</li>
       </ul>
      </div><!-- ุฅููุงู ุงูุฌูู -->
      <div class="bg-white rounded-2xl p-6 shadow-lg">
       <div class="flex items-center gap-3 mb-4">
        <span class="bg-green-100 text-green-600 px-4 py-2 rounded-xl font-bold">2</span>
        <h3 class="text-xl font-bold text-slate-800">ุฅููุงู ุงูุฌูู</h3>
       </div>
       <p class="text-slate-600 mb-4">ุฌูู ูุงูุตุฉ ุชุญุชุงุฌ ูุงุฎุชูุงุฑ ุงููููุฉ ุงูููุงุณุจุฉ</p>
       <ul class="list-disc list-inside text-slate-600 space-y-2 mr-4">
        <li>ููู ุณูุงู ุงูุฌููุฉ</li>
        <li>ูุนุฑูุฉ ูุนุงูู ุงูููุฑุฏุงุช</li>
        <li>ุงูุชูููุฒ ุจูู ุงููููุงุช ุงููุชุดุงุจูุฉ</li>
       </ul>
      </div><!-- ุงูุชูุงุธุฑ ุงูููุธู -->
      <div class="bg-white rounded-2xl p-6 shadow-lg">
       <div class="flex items-center gap-3 mb-4">
        <span class="bg-purple-100 text-purple-600 px-4 py-2 rounded-xl font-bold">3</span>
        <h3 class="text-xl font-bold text-slate-800">ุงูุชูุงุธุฑ ุงูููุธู</h3>
       </div>
       <p class="text-slate-600 mb-4">ุฅูุฌุงุฏ ุงูุนูุงูุฉ ุจูู ุฒูุฌ ูู ุงููููุงุช</p>
      </div>
     </div>
    </div>
   </section><!-- Models Section -->
   <section id="models-section" class="hidden py-12 px-4">
    <div class="max-w-6xl mx-auto">
     <h2 class="text-3xl font-bold text-slate-800 mb-8 text-center">๐ ููุงุฐุฌ ุงูุฃุณุฆูุฉ</h2>
     <p class="text-center text-slate-600 mb-8">55 ูููุฐุฌ ุชุฏุฑูุจู - ุงุฎุชุฑ ุงููููุฐุฌ ุงูุฐู ุชุฑูุฏ ุงูุชุฏุฑุจ ุนููู</p>
     <div id="models-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"></div>
    </div>
   </section><!-- Quiz Section -->
   <section id="quiz-section" class="hidden py-12 px-4">
    <div class="max-w-3xl mx-auto">
     <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
      <!-- Quiz Header -->
      <div class="gradient-bg text-white p-6">
       <div class="flex justify-between items-center mb-4">
        <h3 id="quiz-title" class="text-xl font-bold">ุงููููุฐุฌ 1</h3><button onclick="showSection('models')" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition"> โ ุงูุนูุฏุฉ </button>
       </div>
       <div class="flex justify-between text-sm mb-2">
        <span>ุงูุณุคุงู <span id="current-q">1</span> ูู <span id="total-q">10</span></span> <span>ุงูุฏุฑุฌุฉ: <span id="score">0</span></span>
       </div>
       <div class="bg-white/20 rounded-full h-3">
        <div id="progress-bar" class="bg-white rounded-full h-3 progress-bar" style="width: 10%"></div>
       </div>
      </div><!-- Question Area -->
      <div id="question-area" class="p-6"></div><!-- Navigation -->
      <div class="p-6 bg-slate-50 border-t flex justify-between">
       <button id="prev-btn" onclick="prevQuestion()" class="bg-slate-200 text-slate-700 px-6 py-2 rounded-xl font-medium hover:bg-slate-300 transition disabled:opacity-50" disabled> โ ุงูุณุงุจู </button> <button id="next-btn" onclick="nextQuestion()" class="bg-blue-600 text-white px-6 py-2 rounded-xl font-medium hover:bg-blue-700 transition"> ุงูุชุงูู โ </button>
      </div>
     </div>
    </div>
   </section><!-- Results Section -->
   <section id="results-section" class="hidden py-12 px-4">
    <div class="max-w-2xl mx-auto">
     <div class="bg-white rounded-2xl shadow-xl p-8 text-center">
      <div id="result-icon" class="text-6xl mb-4">
       ๐
      </div>
      <h2 class="text-3xl font-bold text-slate-800 mb-4">ุฃุญุณูุช!</h2>
      <p class="text-xl text-slate-600 mb-6">ููุฏ ุฃูููุช ุงููููุฐุฌ</p>
      <div class="bg-slate-100 rounded-2xl p-6 mb-6">
       <div class="text-5xl font-bold text-blue-600 mb-2">
        <span id="final-score">0</span>/<span id="final-total">10</span>
       </div>
       <p class="text-slate-600">ุฏุฑุฌุชู ุงูููุงุฆูุฉ</p>
       <div class="mt-4 bg-slate-200 rounded-full h-4">
        <div id="result-bar" class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-full h-4 transition-all duration-1000" style="width: 0%"></div>
       </div>
       <p id="percentage" class="text-lg font-medium text-slate-700 mt-2">0%</p>
      </div>
      <div id="result-message" class="text-lg text-slate-600 mb-6"></div>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
       <button onclick="restartQuiz()" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition"> ๐ ุฅุนุงุฏุฉ ุงููููุฐุฌ </button> <button onclick="showSection('models')" class="bg-slate-200 text-slate-700 px-6 py-3 rounded-xl font-bold hover:bg-slate-300 transition"> ๐ ููุงุฐุฌ ุฃุฎุฑู </button>
      </div>
     </div>
    </div>
   </section><!-- Results View Section -->
   <section id="results-view-section" class="hidden py-12 px-4">
    <div class="max-w-4xl mx-auto">
     <h2 class="text-3xl font-bold text-slate-800 mb-8 text-center">๐ ุณุฌู ุงููุชุงุฆุฌ</h2>
     <div id="results-list" class="space-y-4">
      <div class="text-center text-slate-500 py-12">
       <p class="text-lg">ุฌุงุฑู ุชุญููู ุงููุชุงุฆุฌ...</p>
      </div>
     </div>
    </div>
   </section><!-- Tips Section -->
   <section id="tips-section" class="hidden py-12 px-4">
    <div class="max-w-4xl mx-auto">
     <h2 class="text-3xl font-bold text-slate-800 mb-8 text-center">๐ก ูุตุงุฆุญ ุฐูุจูุฉ</h2>
     <div class="grid md:grid-cols-2 gap-6">
      <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white">
       <h3 class="text-xl font-bold mb-4">๐ ูุจู ุงูุงุฎุชุจุงุฑ</h3>
       <ul class="space-y-3">
        <li class="flex gap-2"><span>โ</span> ูู ุฌูุฏุงู ุงููููุฉ ุงูุณุงุจูุฉ</li>
        <li class="flex gap-2"><span>โ</span> ุชูุงูู ูุทูุฑุงู ุตุญูุงู</li>
        <li class="flex gap-2"><span>โ</span> ุงุญุถุฑ ูุจูุฑุงู ููุฑูุฒ ุงูุงุฎุชุจุงุฑ</li>
       </ul>
      </div>
     </div>
    </div>
   </section><!-- Footer -->
   <footer class="bg-slate-800 text-white py-8 px-4 mt-12">
    <div class="max-w-6xl mx-auto text-center">
     <p class="text-slate-400">ููุตุฉ ุงููุฏุฑุงุช ุงูููุธู - 55 ูููุฐุฌ ุชุฏุฑูุจู</p>
    </div>
   </footer>
  </div>
  <script>
        const defaultConfig = { site_title: 'ุงููุฏุฑุงุช ุงูููุธู' };
        let config = { ...defaultConfig };
        let studentName = 'ุงูุทุงูุจ';
        let allResults = [];

        let currentModel = 1;
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];
        let questions = [];

        const questionsDB = {};

        function generateAllModels() {
            const questionPools = {
                analogy: [
                    { question: 'ุฃุจ : ุงุจู :: ุฌุฏ : ุ', options: ['ุญููุฏ', 'ุนู', 'ุฎุงู', 'ุฃุฎ'], correct: 0 },
                    { question: 'ุทุจูุจ : ูุณุชุดูู :: ูุนูู : ุ', options: ['ูุชุงุจ', 'ูุฏุฑุณุฉ', 'ุทุงูุจ', 'ุนูู'], correct: 1 },
                    { question: 'ููู : ูุชุงุจุฉ :: ููุชุงุญ : ุ', options: ['ุจุงุจ', 'ูุชุญ', 'ุญุฏูุฏ', 'ููู'], correct: 1 },
                    { question: 'ุณูู : ูุชุงู :: ููู : ุ', options: ['ุญุจุฑ', 'ูุฑู', 'ูุชุงุจุฉ', 'ุฎุดุจ'], correct: 2 },
                    { question: 'ุดูุณ : ููุงุฑ :: ููุฑ : ุ', options: ['ููู', 'ูุฌูู', 'ุณูุงุก', 'ุถูุก'], correct: 0 },
                    { question: 'ุนูู : ุฑุคูุฉ :: ุฃุฐู : ุ', options: ['ูุฌู', 'ุณูุน', 'ุตูุช', 'ููุงู'], correct: 1 },
                    { question: 'ุณููุฉ : ูุงุก :: ุทุงุฆุฑ : ุ', options: ['ููุงุก', 'ุฑูุด', 'ุนุด', 'ุทุนุงู'], correct: 0 },
                    { question: 'ูุชุงุจ : ููุชุจุฉ :: ุณูุงุฑุฉ : ุ', options: ['ุทุฑูู', 'ูุฑุขุจ', 'ุจูุฒูู', 'ุณุงุฆู'], correct: 1 },
                    { question: 'ูุญูุฉ : ุนุณู :: ุจูุฑุฉ : ุ', options: ['ูุญู', 'ุญููุจ', 'ูุฒุฑุนุฉ', 'ุนุดุจ'], correct: 1 },
                    { question: 'ุดุฌุฑุฉ : ุบุงุจุฉ :: ูุฌูุฉ : ุ', options: ['ุณูุงุก', 'ูุฌุฑุฉ', 'ููู', 'ุถูุก'], correct: 1 },
                    { question: 'ูุฑูุฉ : ุดุฌุฑุฉ :: ุดุนุฑ : ุ', options: ['ูุดุท', 'ุฑุฃุณ', 'ููู', 'ูุต'], correct: 1 },
                    { question: 'ุซูุฌ : ุจุงุฑุฏ :: ูุงุฑ : ุ', options: ['ุฏุฎุงู', 'ุญุทุจ', 'ุณุงุฎู', 'ุถูุก'], correct: 2 },
                    { question: 'ูุฏ : ุฎูุณุฉ :: ูุฏู : ุ', options: ['ุฎูุณุฉ', 'ุฃุฑุจุนุฉ', 'ุญุฐุงุก', 'ูุดู'], correct: 0 },
                    { question: 'ุณููู : ูุทุน :: ูุทุฑูุฉ : ุ', options: ['ุญุฏูุฏ', 'ูุณูุงุฑ', 'ุทุฑู', 'ูุฏ'], correct: 2 },
                    { question: 'ููู : ุนุฑุด :: ูุงุถู : ุ', options: ['ูุญููุฉ', 'ูุงููู', 'ุนุฏู', 'ุณุฌู'], correct: 0 },
                    { question: 'ุญุจุฑ : ููู :: ูููุฏ : ุ', options: ['ูุงุฑ', 'ุณูุงุฑุฉ', 'ูุญุทุฉ', 'ุฒูุช'], correct: 1 },
                    { question: 'ุฑุฃุณ : ุฌุณู :: ููุฉ : ุ', options: ['ุฌุจู', 'ุณูู', 'ูุงุฏู', 'ููุฑ'], correct: 0 },
                    { question: 'ููุชุงุญ : ุจุงุจ :: ุฒุฑ : ุ', options: ['ูููุต', 'ุฌูุงุฒ', 'ูุฏ', 'ุฎูุท'], correct: 1 },
                    { question: 'ูุงุชุจ : ูุชุงุจ :: ูุฎุชุฑุน : ุ', options: ['ุนูู', 'ุงุฎุชุฑุงุน', 'ูุฎุชุจุฑ', 'ููุฑุฉ'], correct: 1 },
                    { question: 'ุซูุฑ : ูุฑู :: ุบุฒุงู : ุ', options: ['ุญุงูุฑ', 'ูุฑู', 'ุฐูู', 'ุฌูุฏ'], correct: 1 }
                ],
                completion: [
                    { question: 'ุงูุนูู ........... ูุงูุฌูู ุธูุงู.', options: ['ุธููุฉ', 'ููุฑ', 'ุตุนุจ', 'ูุซูุฑ'], correct: 1 },
                    { question: 'ุงูุตุฏู ........... ูุงููุฐุจ ููุฏู ุฅูู ุงููุฌูุฑ.', options: ['ููุฏู ุฅูู ุงูุจุฑ', 'ุตุนุจ', 'ูุงุฏุฑ', 'ููุฑูู'], correct: 0 },
                    { question: 'ูู ุฌุฏู ...........ุ ููู ุฒุฑุน ุญุตุฏ.', options: ['ูุงู', 'ูุฌุฏ', 'ุชุนุจ', 'ูุงุฒ'], correct: 1 },
                    { question: 'ุงูุตุจุฑ ููุชุงุญ ...........ุ ููู ุตุจุฑ ุธูุฑ.', options: ['ุงูุจุงุจ', 'ุงููุฑุฌ', 'ุงููุฌุงุญ', 'ุงูุณุนุงุฏุฉ'], correct: 1 },
                    { question: 'ุงูุนูู ุงูุณููู ูู ุงูุฌุณู ...........',options: ['ุงูููู', 'ุงูุณููู', 'ุงููุจูุฑ', 'ุงููุดูุท'], correct: 1 },
                    { question: 'ุฎูุฑ ุงูููุงู ูุง ........... ูุฏู.', options: ['ุทุงู', 'ูุซุฑ', 'ููู', 'ุญุณู'], correct: 2 },
                    { question: 'ุงูููุช ูุงูุณูู ุฅู ูู ........... ูุทุนู.', options: ['ุชุถุฑุจู', 'ุชุชุฑูู', 'ุชูุทุนู', 'ุชุญูุธู'], correct: 2 },
                    { question: 'ุฅุฐุง ูุงู ุงูููุงู ูู ........... ูุงูุณููุช ูู ุฐูุจ.', options: ['ูุถุฉ', 'ุญุฏูุฏ', 'ูุญุงุณ', 'ุฎุดุจ'], correct: 0 },
                    { question: 'ุฑุจ ุฃุฎู ูู ูู ........... ุฃูู.', options: ['ุชุนุฑู', 'ุชุฑู', 'ุชุญุจ', 'ุชูุฏู'], correct: 3 },
                    { question: 'ุงูุญุงุฌุฉ ุฃู ...........',options: ['ุงููุฌุงุญ', 'ุงูุงุฎุชุฑุงุน', 'ุงูุนูู', 'ุงูููุฑุฉ'], correct: 1 },
                    { question: 'ูู ุญูุฑ ุญูุฑุฉ ูุฃุฎูู ููุน ...........', options: ['ูุนู', 'ูููุง', 'ุจุนุฏู', 'ูุฑุจูุง'], correct: 1 },
                    { question: 'ุฏุฑูู ........... ุฎูุฑ ูู ููุทุงุฑ ุนูุงุฌ.', options: ['ููุงูุฉ', 'ุนูุงุฌ', 'ูุงู', 'ุฐูุจ'], correct: 0 },
                    { question: 'ูุง ุชุคุฌู ุนูู ุงูููู ุฅูู ...........',options: ['ุงูุฃูุณ', 'ุงูุบุฏ', 'ุงูุนุงู', 'ุงูุดูุฑ'], correct: 1 },
                    { question: 'ูู ุงูุชุฃูู ........... ููู ุงูุนุฌูุฉ ุงููุฏุงูุฉ.', options: ['ุงูุณูุงูุฉ', 'ุงูุณุฑุนุฉ', 'ุงูุฎุณุงุฑุฉ', 'ุงููุฏู'], correct: 0 },
                    { question: 'ุงูุทููุฑ ุนูู ........... ุชูุน.', options: ['ุงูุฃุฑุถ', 'ุฃุดูุงููุง', 'ุงูุดุฌุฑ', 'ุฃุนุดุงุดูุง'], correct: 1 },
                    { question: 'ููู ููุงูู ...........ุ ูููู ุฒูุงู ุฑุฌุงู.', options: ['ููุงู', 'ููุงู', 'ุญุฏูุซ', 'ููู'], correct: 1 },
                    { question: 'ุฅุฐุง ุฃุฑุฏุช ุฃู ุชูุทุงุน ูุฃูุฑ ุจูุง ...........', options: ['ุชุฑูุฏ', 'ููุณุชุทุงุน', 'ุชุญุจ', 'ูุตุนุจ'], correct: 1 },
                    { question: 'ูุง ููุฏุบ ุงููุคูู ูู ........... ูุฑุชูู.', options: ['ุซุนุจุงู', 'ุฌุญุฑ', 'ุนูุฑุจ', 'ูุญูุฉ'], correct: 1 },
                    { question: 'ุงูุฌุงุฑ ูุจู ...........', options: ['ุงูุจูุช', 'ุงูุฏุงุฑ', 'ุงูุทุฑูู', 'ุงูุณูุฑ'], correct: 1 },
                    { question: 'ุฑุญูุฉ ุงูุฃูู ููู ุชุจุฏุฃ ...........', options: ['ุจุงูุณูุงุฑุฉ', 'ุจุฎุทูุฉ', 'ุจุงูุชุฎุทูุท', 'ุจุงููุงู'], correct: 1 }
                ],
                error: [
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงููุธุงูุฉ ูู ุงููุณู ููู ุดุนุงุฑ ุงููุณูู"', options: ['ุงููุธุงูุฉ', 'ุงููุณู', 'ุดุนุงุฑ', 'ุงููุณูู'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุฌูู ููุฑ ูุถูุก ุทุฑูู ุงูุฅูุณุงู"', options: ['ุงูุฌูู', 'ููุฑ', 'ูุถูุก', 'ุทุฑูู'], correct: 0 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุชุนุงูู ูุถุนู ุงููุฌุชูุน ูููุฑู ุฃุจูุงุกู"', options: ['ุงูุชุนุงูู', 'ูุถุนู', 'ุงููุฌุชูุน', 'ุฃุจูุงุกู'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงููุงุก ุถุฑูุฑู ูููุช ุงููุงุฆูุงุช ุงูุญูุฉ"', options: ['ุงููุงุก', 'ุถุฑูุฑู', 'ูููุช', 'ุงูุญูุฉ'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุชุฏุฎูู ูุญุณูู ุตุญุฉ ุงูุฅูุณุงู"', options: ['ุงูุชุฏุฎูู', 'ูุญุณูู', 'ุตุญุฉ', 'ุงูุฅูุณุงู'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุฑูุงุถุฉ ุชุถุนู ุงูุฌุณู ูุชูุฏู ุงูุตุญุฉ"', options: ['ุงูุฑูุงุถุฉ', 'ุชุถุนู', 'ุงูุฌุณู', 'ุงูุตุญุฉ'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุนุฏู ุฃุณุงุณ ุงูุธูู ูู ุงููุฌุชูุน"', options: ['ุงูุนุฏู', 'ุฃุณุงุณ', 'ุงูุธูู', 'ุงููุฌุชูุน'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุตุฏู ููุณุฏ ุงูุนูุงูุงุช ุจูู ุงููุงุณ"', options: ['ุงูุตุฏู', 'ููุณุฏ', 'ุงูุนูุงูุงุช', 'ุงููุงุณ'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูููู ุงููุงูู ูุฑูู ุงูุฌุณู ููุชุนุจู"', options: ['ุงูููู', 'ุงููุงูู', 'ูุฑูู', 'ุงูุฌุณู'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงููุฑุงุกุฉ ุชุฌููู ุงูุฅูุณุงู ูุชุถููู ุฃููู"', options: ['ุงููุฑุงุกุฉ', 'ุชุฌููู', 'ุงูุฅูุณุงู', 'ุฃููู'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงููุฑู ุตูุฉ ุฐูููุฉ ูุจุบุถูุง ุงููุงุณ"', options: ['ุงููุฑู', 'ุฐูููุฉ', 'ูุจุบุถูุง', 'ุงููุงุณ'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุธูู ูุฏูู ููุจูู ุทูููุงู"', options: ['ุงูุธูู', 'ูุฏูู', 'ูุจูู', 'ุทูููุงู'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุดุฌุงุนุฉ ุถุนู ูู ููุงุฌูุฉ ุงูุตุนุงุจ"', options: ['ุงูุดุฌุงุนุฉ', 'ุถุนู', 'ููุงุฌูุฉ', 'ุงูุตุนุงุจ'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุฌุจุงู ููุงุฌู ุงููุฎุงุทุฑ ุจุดุฌุงุนุฉ"', options: ['ุงูุฌุจุงู', 'ููุงุฌู', 'ุงููุฎุงุทุฑ', 'ุจุดุฌุงุนุฉ'], correct: 0 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุดูุณ ุชุดุฑู ูู ุงูุบุฑุจ ูู ุตุจุงุญ"', options: ['ุงูุดูุณ', 'ุชุดุฑู', 'ุงูุบุฑุจ', 'ุตุจุงุญ'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุฌูู ูุฑูุน ุตุงุญุจู ุฏุฑุฌุงุช"', options: ['ุงูุฌูู', 'ูุฑูุน', 'ุตุงุญุจู', 'ุฏุฑุฌุงุช'], correct: 0 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุตูุช ุญููุฉ ููููู ูุงุนูู"', options: ['ุงูุตูุช', 'ุญููุฉ', 'ูููู', 'ูุงุนูู'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุฃูู ูููุฏ ุฅูู ุงููุฃุณ ูุงูุฅุญุจุงุท"', options: ['ุงูุฃูู', 'ูููุฏ', 'ุงููุฃุณ', 'ุงูุฅุญุจุงุท'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุชูุงุถุน ููุจุนุฏ ุงููุงุณ ุนูู"', options: ['ุงูุชูุงุถุน', 'ููุจุนุฏ', 'ุงููุงุณ', 'ุนูู'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงูุฎุทุฃ ุงูุณูุงูู: "ุงูุนูู ุงูุตุงูุญ ููุจุนุฏ ุนู ุงูุฌูุฉ"', options: ['ุงูุนูู', 'ุงูุตุงูุญ', 'ููุจุนุฏ', 'ุงูุฌูุฉ'], correct: 2 }
                ],
                different: [
                    { question: 'ุฃู ูููุฉ ูุง ุชูุชูู ูููุฌููุนุฉุ', options: ['ุชูุงุญุฉ', 'ุจุฑุชูุงูุฉ', 'ุฌุฒุฑุฉ', 'ููุฒุฉ'], correct: 2 },
                    { question: 'ุฃู ูููุฉ ูุฎุชููุฉุ', options: ['ุทุจูุจ', 'ูููุฏุณ', 'ูุณุชุดูู', 'ูุนูู'], correct: 2 },
                    { question: 'ุญุฏุฏ ุงููุฎุชูู:', options: ['ุฃุณุฏ', 'ููุฑ', 'ููู', 'ูุณุฑ'], correct: 3 },
                    { question: 'ุฃู ูููุฉ ูุง ุชูุชููุ', options: ['ุณุนุงุฏุฉ', 'ูุฑุญ', 'ุณุฑูุฑ', 'ุญุฒู'], correct: 3 },
                    { question: 'ุงููุฎุชูู ูู:', options: ['ููู', 'ุฏูุชุฑ', 'ูุชุงุจ', 'ุชููุงุฒ'], correct: 3 },
                    { question: 'ุฃู ูููุฉ ูุง ุชูุชูู ูููุฌููุนุฉุ', options: ['ุงูุฃุญุฏ', 'ููุงูุฑ', 'ุงูุงุซููู', 'ุงูุฌูุนุฉ'], correct: 1 },
                    { question: 'ุญุฏุฏ ุงููููุฉ ุงููุฎุชููุฉ:', options: ['ุณูุงุฑุฉ', 'ุทุงุฆุฑุฉ', 'ุฏุฑุงุฌุฉ', 'ูุฑุณู'], correct: 3 },
                    { question: 'ุฃู ููุง ููู ูุง ููุชููุ', options: ['ุฐูุจ', 'ูุถุฉ', 'ุญุฏูุฏ', 'ุฎุดุจ'], correct: 3 },
                    { question: 'ุงููููุฉ ุงููุฎุชููุฉ:', options: ['ุนูู', 'ุฃูู', 'ูุฏ', 'ุฃุฐู'], correct: 2 },
                    { question: 'ุฃู ูููุฉ ุชุฎุชููุ', options: ['ููุจ', 'ูุท', 'ุญุตุงู', 'ุณููุฉ'], correct: 3 },
                    { question: 'ุงููุฎุชูู:', options: ['ุณูุน', 'ุจุตุฑ', 'ุดู', 'ููุฑ'], correct: 3 },
                    { question: 'ุฃู ูููุฉ ูุฎุชููุฉุ', options: ['ูุซูุซ', 'ูุฑุจุน', 'ุฏุงุฆุฑุฉ', 'ุฎุท'], correct: 3 },
                    { question: 'ุฃู ูููุฉ ูุง ุชูุชููุ', options: ['ูููุฉ', 'ุดุงู', 'ุนุตูุฑ', 'ุฎุจุฒ'], correct: 3 },
                    { question: 'ุงููุฎุชูู:', options: ['ุณุนูุฏูุฉ', 'ูุตุฑ', 'ุงููุงูุฑุฉ', 'ุงูุฃุฑุฏู'], correct: 2 },
                    { question: 'ุฃู ูููุฉ ุชุฎุชููุ', options: ['ุซุงููุฉ', 'ุฏูููุฉ', 'ูุชุฑ', 'ุณุงุนุฉ'], correct: 2 },
                    { question: 'ุฃู ูููุฉ ุชุฎุชููุ', options: ['ุฃุฐู', 'ุนูู', 'ุฃูู', 'ูุฏู'], correct: 3 },
                    { question: 'ุงููุฎุชูู:', options: ['ูุญูุท', 'ุจุญุฑ', 'ููุฑ', 'ุฌุจู'], correct: 3 },
                    { question: 'ุฃู ูููุฉ ูุง ุชูุชููุ', options: ['ุณุจุงุญุฉ', 'ุฌุฑู', 'ูุฑุงุกุฉ', 'ูุฑุฉ ูุฏู'], correct: 2 },
                    { question: 'ุงููุฎุชูู:', options: ['ุดูุงู', 'ุฌููุจ', 'ููู', 'ุดุฑู'], correct: 2 },
                    { question: 'ุฃู ูููุฉ ุชุฎุชููุ', options: ['ูุฑุญ', 'ุณุฑูุฑ', 'ุจูุฌุฉ', 'ูุขุจุฉ'], correct: 3 }
                ]
            };

            for (let i = 1; i <= 55; i++) {
                questionsDB[i] = [];
                const modelType = ((i - 1) % 6) + 1;
                
                if (modelType === 1) {
                    for (let j = 0; j < 10; j++) {
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.analogy[(i + j) % questionPools.analogy.length])));
                    }
                } else if (modelType === 2) {
                    for (let j = 0; j < 10; j++) {
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.completion[(i + j) % questionPools.completion.length])));
                    }
                } else if (modelType === 3) {
                    for (let j = 0; j < 10; j++) {
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.error[(i + j) % questionPools.error.length])));
                    }
                } else if (modelType === 4) {
                    for (let j = 0; j < 10; j++) {
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.different[(i + j) % questionPools.different.length])));
                    }
                } else if (modelType === 5) {
                    for (let j = 0; j < 5; j++) {
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.analogy[(i + j) % questionPools.analogy.length])));
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.completion[(i + j) % questionPools.completion.length])));
                    }
                } else {
                    for (let j = 0; j < 3; j++) {
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.analogy[(i + j) % questionPools.analogy.length])));
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.completion[(i + j) % questionPools.completion.length])));
                        questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.error[(i + j) % questionPools.error.length])));
                    }
                    questionsDB[i].push(JSON.parse(JSON.stringify(questionPools.different[i % questionPools.different.length])));
                }
            }
        }

        generateAllModels();

        function showSection(section) {
            const sections = ['home', 'explanation', 'models', 'quiz', 'results', 'results-view', 'tips'];
            sections.forEach(s => {
                document.getElementById(`${s}-section`).classList.add('hidden');
            });
            document.getElementById(`${section}-section`).classList.remove('hidden');
            
            if (section === 'results-view') {
                loadResults();
            }
            window.scrollTo(0, 0);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function editStudentName() {
            document.getElementById('name-input').value = studentName;
            document.getElementById('name-modal').classList.remove('hidden');
            document.getElementById('name-input').focus();
        }

        function saveStudentName() {
            const name = document.getElementById('name-input').value.trim();
            if (name) {
                studentName = name;
                document.getElementById('display-name').textContent = studentName;
                closeNameModal();
                showToast('ุชู ุญูุธ ุงูุงุณู ุจูุฌุงุญ โ');
            }
        }

        function closeNameModal() {
            document.getElementById('name-modal').classList.add('hidden');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.remove('hidden');
            setTimeout(() => toast.classList.add('hidden'), 3000);
        }

        document.getElementById('name-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') saveStudentName();
        });

        function generateModelsGrid() {
            const grid = document.getElementById('models-grid');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 55; i++) {
                const card = document.createElement('div');
                card.className = `bg-white rounded-lg p-3 shadow-md card-hover cursor-pointer border-2 border-transparent hover:border-blue-400 text-center`;
                card.innerHTML = `
                    <div class="text-2xl font-bold text-blue-600 mb-1">${i}</div>
                    <div class="text-xs text-slate-500">ูููุฐุฌ</div>
                `;
                card.onclick = () => startQuiz(i);
                grid.appendChild(card);
            }
        }

        function startQuiz(modelNum) {
            currentModel = modelNum;
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            questions = questionsDB[modelNum] || questionsDB[1];
            
            document.getElementById('quiz-title').textContent = `ุงููููุฐุฌ ${modelNum}`;
            document.getElementById('total-q').textContent = questions.length;
            
            showSection('quiz');
            loadQuestion();
        }

        function loadQuestion() {
            const q = questions[currentQuestion];
            const area = document.getElementById('question-area');
            
            document.getElementById('current-q').textContent = currentQuestion + 1;
            document.getElementById('score').textContent = score;
            document.getElementById('progress-bar').style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            
            let html = '<div class="question-card">';
            html += `<h4 class="text-xl font-bold text-slate-800 mb-6">${q.question}</h4>`;
            html += '<div class="space-y-3">';
            
            q.options.forEach((opt, idx) => {
                const letter = ['ุฃ', 'ุจ', 'ุฌ', 'ุฏ'][idx];
                const isAnswered = userAnswers[currentQuestion] !== undefined;
                const isSelected = userAnswers[currentQuestion] === idx;
                const isCorrect = idx === q.correct;
                
                let btnClass = 'option-btn w-full text-right p-4 rounded-xl border-2 transition flex items-center gap-3';
                
                if (isAnswered) {
                    if (isCorrect) {
                        btnClass += ' correct';
                    } else if (isSelected) {
                        btnClass += ' wrong';
                    } else {
                        btnClass += ' border-slate-200 bg-white opacity-50';
                    }
                } else {
                    btnClass += ' border-slate-200 bg-white hover:border-blue-400 cursor-pointer';
                }
                
                html += `
                    <button class="${btnClass}" onclick="selectAnswer(${idx})" ${isAnswered ? 'disabled' : ''}>
                        <span class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center font-bold text-slate-600">${letter}</span>
                        <span class="flex-1">${opt}</span>
                        ${isAnswered && isCorrect ? '<span class="text-green-600">โ</span>' : ''}
                        ${isAnswered && isSelected && !isCorrect ? '<span class="text-red-600">โ</span>' : ''}
                    </button>
                `;
            });
            html += '</div></div>';
            
            area.innerHTML = html;
            
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            document.getElementById('next-btn').textContent = currentQuestion === questions.length - 1 ? 'ุฅููุงุก' : 'ุงูุชุงูู โ';
        }

        function selectAnswer(idx) {
            if (userAnswers[currentQuestion] !== undefined) return;
            
            userAnswers[currentQuestion] = idx;
            if (idx === questions[currentQuestion].correct) {
                score++;
            }
            
            loadQuestion();
        }

        function nextQuestion() {
            if (userAnswers[currentQuestion] === undefined) {
                showToast('ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุฅุฌุงุจุฉ');
                return;
            }
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResults();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        async function showResults() {
            const percentage = Math.round((score / questions.length) * 100);
            
            document.getElementById('final-score').textContent = score;
            document.getElementById('final-total').textContent = questions.length;
            document.getElementById('percentage').textContent = `${percentage}%`;
            
            setTimeout(() => {
                document.getElementById('result-bar').style.width = `${percentage}%`;
            }, 100);
            
            let icon, message;
            if (percentage >= 90) {
                icon = '๐';
                message = 'ููุชุงุฒ! ุฃุฏุงุก ุฑุงุฆุน!';
            } else if (percentage >= 70) {
                icon = '๐';
                message = 'ุฌูุฏ ุฌุฏุงู! ุฃูุช ูู ุงูุทุฑูู ุงูุตุญูุญ!';
            } else if (percentage >= 50) {
                icon = '๐ช';
                message = 'ุฌูุฏ! ุชุญุชุงุฌ ููุฒูุฏ ูู ุงูุชุฏุฑูุจ.';
            } else {
                icon = '๐';
                message = 'ุฑุงุฌุน ุงูุดุฑุญ ูุญุงูู ูุฑุฉ ุฃุฎุฑู!';
            }
            
            document.getElementById('result-icon').textContent = icon;
            document.getElementById('result-message').textContent = message;
            
            // ุญูุธ ุงููุชูุฌุฉ ูู Data SDK
            if (window.dataSdk) {
                const result = await window.dataSdk.create({
                    student_name: studentName,
                    model_number: currentModel.toString(),
                    score: score.toString(),
                    percentage: percentage.toString(),
                    completed_at: new Date().toISOString()
                });
                
                if (result.isOk) {
                    showToast('ุชู ุญูุธ ุงููุชูุฌุฉ โ');
                }
            }
            
            showSection('results');
        }

        function restartQuiz() {
            startQuiz(currentModel);
        }

        async function loadResults() {
            if (!window.dataSdk) {
                document.getElementById('results-list').innerHTML = '<p class="text-center text-slate-500">ูุง ุชูุฌุฏ ูุชุงุฆุฌ</p>';
                return;
            }
            
            const resultsList = document.getElementById('results-list');
            resultsList.innerHTML = '<p class="text-center text-slate-500">ุฌุงุฑู ุงูุชุญููู...</p>';
        }

        const dataHandler = {
            onDataChanged(data) {
                const resultsList = document.getElementById('results-list');
                if (!data || data.length === 0) {
                    resultsList.innerHTML = '<div class="text-center text-slate-500 py-12"><p class="text-lg">ูุง ุชูุฌุฏ ูุชุงุฆุฌ ุจุนุฏ</p></div>';
                    return;
                }
                
                let html = '';
                data.forEach((result, idx) => {
                    const percentage = parseInt(result.percentage) || 0;
                    const date = new Date(result.completed_at).toLocaleDateString('ar-SA');
                    const color = percentage >= 80 ? 'green' : percentage >= 60 ? 'yellow' : 'red';
                    
                    html += `
                        <div class="bg-white rounded-xl shadow-md p-6 border-r-4 border-${color}-500">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-bold text-slate-800">${result.student_name}</h3>
                                    <p class="text-slate-500 text-sm">ุงููููุฐุฌ ${result.model_number}</p>
                                </div>
                                <span class="text-2xl font-bold text-${color}-600">${result.percentage}%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-slate-600">ุงูุฏุฑุฌุฉ: ${result.score}</p>
                                <p class="text-slate-500 text-sm">${date}</p>
                            </div>
                        </div>
                    `;
                });
                resultsList.innerHTML = html;
            }
        };

        async function initDataSDK() {
            if (window.dataSdk) {
                await window.dataSdk.init(dataHandler);
            }
        }

        async function onConfigChange(newConfig) {
            document.getElementById('site-title').textContent = '๐ ' + (newConfig.site_title || defaultConfig.site_title);
        }

        function mapToCapabilities() {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(cfg) {
            return new Map([
                ['site_title', cfg.site_title || defaultConfig.site_title]
            ]);
        }

        async function init() {
            generateModelsGrid();
            
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
                config = window.elementSdk.config || defaultConfig;
            }
            
            await initDataSDK();
            await onConfigChange(config);
        }

        init();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ced158231b1977e',t:'MTc3MTI0NTMxOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>